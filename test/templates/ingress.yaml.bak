apiVersion: networking.k8s.io/v1
   
kind: Ingress
   
metadata:
   
  name: example-service-ingress
  
   
  annotations:
   
    nginx.ingress.kubernetes.io/rewrite-target: /$1
   
spec:
   
  rules:
   
    - host: cat.terrestrialplatform.link
   
      http:
   
        paths:
   
          - path: /(.*)
            pathType: Prefix
   
            backend:
   
              service:
   
                name: spring-auth-app
   
                port:
   
                  number: 8080
                  
 
                  
          - path: /web/(.*)
            pathType: Prefix
   
            backend:
   
              service:
   
                name: spring-platform-app
   
                port:
   
                  number: 8002
                  
          - path: /alarm/(.*)
            pathType: Prefix
   
            backend:
   
              service:
   
                name: spring-alarm-app
   
                port:
   
                  number: 8003
                  
          - path: /tag/(.*)
            pathType: Prefix
   
            backend:
   
              service:
   
                name: spring-tag-app
   
                port:
   
                  number: 8004
                  
  ingressClassName: nginx
  
